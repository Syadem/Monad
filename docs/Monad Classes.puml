@startuml
title Monad classes

interface Monadic {
    value():mixed
    flatten():mixed
    bind(Closure:function, array:args = []):monadic
    {static} create(mixed:value):monadic
}

abstract class Monad {
    #value:mixed
    __invoke()
}

class Identity {
    __construct(mixed:value)
}

abstract class Option {
    {static} create(mixed:value):Some|None
}

class None {
    __construct(mixed:value = null)
    value():RuntimeException
    bind(Closure:function, array:args = []):None
    {static} create(mixed:value):None
}

class Some {
    __construct(mixed:value)
    bind(Closure:function, array:args = []):Some|None
}

Monadic <-- Monad
Monad <-- Identity
Monad <-- Option
Option <-- None
Option <-- Some
@enduml